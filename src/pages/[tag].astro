---
import Gallery from "../components/Gallery.astro";
import Layout from "../layouts/Layout.astro";
import { getTags } from "../utils/contentful/api";

export async function getStaticPaths() {
  const params = (await getTags()).map((tag) => ({
    params: {
      tag: tag.name,
    },
    props: {
      name: tag.name,
      id: tag.id,
    },
  }));

  return params;
}

const { name, id } = Astro.props;
---

<Layout title={`k.l.b designs - ${name}`}>
  <Gallery tagId={id} tagName={name} />
</Layout>
